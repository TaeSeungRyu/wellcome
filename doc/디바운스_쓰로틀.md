## 📌 디바운스(Debounce) / 쓰로틀(Throttle) 이론 정리

---

## 1️⃣ 디바운스 (Debounce)

### ✅ 개념

> **연속적으로 호출되는 함수 중 “마지막 호출”만 일정 시간 이후 실행하는 기법**

이벤트가 발생할 때마다 타이머를 초기화하고,
**지정한 시간이 지난 후 마지막 한 번만 실행**됩니다.

### ✅ 동작 원리

1. 이벤트 발생
2. 기존 타이머 제거
3. 새로운 타이머 설정
4. 일정 시간 동안 추가 호출이 없으면 실행

### ✅ 사용 목적

- 과도한 API 호출 방지
- 불필요한 연산 최소화
- 사용자 입력 완료 시점 감지

### ✅ 대표 사용 예시

- 검색창 자동완성
- 실시간 입력 검증
- 서버 API 요청 최적화

```js
function debounce(fn, delay) {
  let timer;
  return function (...args) {
    clearTimeout(timer);
    timer = setTimeout(() => {
      fn.apply(this, args);
    }, delay);
  };
}
```

### ✅ 특징

- 마지막 호출만 실행
- 입력이 멈춘 후 동작
- “최종 결과가 중요한 경우”에 적합

---

## 2️⃣ 쓰로틀 (Throttle)

### ✅ 개념

> **일정 시간 간격으로 함수 실행을 제한하는 기법**

이벤트가 아무리 많이 발생해도
**정해진 시간 간격마다 한 번만 실행**됩니다.

### ✅ 동작 원리

1. 최초 실행
2. 일정 시간 동안 추가 호출 무시
3. 시간이 지나면 다시 실행 가능

### ✅ 사용 목적

- 고빈도 이벤트 제어
- 렌더링 부하 감소
- 애니메이션/스크롤 최적화

### ✅ 대표 사용 예시

- 스크롤 이벤트
- 윈도우 리사이즈
- 무한 스크롤 로딩
- 드래그 이벤트

```js
function throttle(fn, delay) {
  let lastCall = 0;
  return function (...args) {
    const now = Date.now();
    if (now - lastCall >= delay) {
      lastCall = now;
      fn.apply(this, args);
    }
  };
}
```

### ✅ 특징

- 일정 주기로 실행
- 이벤트가 계속 발생해도 주기적으로 동작
- “지속적인 반응이 필요한 경우”에 적합

---

## 3️⃣ 디바운스 vs 쓰로틀 비교

| 구분         | 디바운스         | 쓰로틀             |
| ------------ | ---------------- | ------------------ |
| 실행 시점    | 마지막 호출 이후 | 일정 간격마다      |
| 호출 중 처리 | 계속 취소        | 무시               |
| 적합한 상황  | 입력 완료 감지   | 지속적 이벤트 대응 |
| 예시         | 검색창           | 스크롤             |

---

## 4️⃣ 스크롤 / 리사이즈 이벤트 최적화와의 관계

브라우저의 `scroll`, `resize` 이벤트는
초당 수십~수백 번 발생합니다.

그대로 처리하면:

- ❌ 잦은 DOM 계산
- ❌ Reflow/Repaint 증가
- ❌ 메모리 및 CPU 과부하

따라서:

- **스크롤 위치 계산 → throttle**
- **리사이즈 완료 후 레이아웃 재계산 → debounce**

---

## 5️⃣ 성능 관점 이론

### 📌 이벤트 루프(Event Loop)와의 관계

- 타이머는 Web API 영역에서 관리
- 콜백은 Task Queue에 등록
- 메인 스레드 부하 감소 효과

### 📌 렌더링 최적화와 연결

- 과도한 상태 업데이트 방지
- Virtual DOM 재계산 최소화
- Layout Thrashing 방지

---

## 6️⃣ 언제 무엇을 써야 할까?

- 🔍 입력 완료 후 실행 → **Debounce**
- 📊 실시간 스크롤 위치 추적 → **Throttle**
- 🌐 API 과다 호출 방지 → **Debounce**
- 🎮 드래그 중 좌표 추적 → **Throttle**

---

## 📌 핵심 정리

> Debounce는 “마지막 한 번”
> Throttle은 “일정 간격마다”

둘 다 **고빈도 이벤트를 제어하는 성능 최적화 패턴**이다.

---
