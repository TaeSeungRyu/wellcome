## 📌 localStorage / sessionStorage

웹 브라우저에서 제공하는 **Web Storage API**로, 클라이언트 측에 데이터를 저장할 수 있는 기능입니다. 대표적으로 `localStorage`와 `sessionStorage`가 있습니다.

---

### 🔹 공통 특징

* **동기(Synchronous) API**

  * `setItem`, `getItem` 호출 시 즉시 실행됨
  * 대량 데이터 처리 시 메인 스레드를 블로킹할 수 있음

* **저장 용량**

  * 브라우저별로 다르지만 **약 5MB 내외**
  * 문자열(String) 형태로만 저장 가능
  * 객체는 `JSON.stringify()` / `JSON.parse()`로 변환 필요

* **XSS(Cross-Site Scripting)에 취약**

  * 자바스크립트로 접근 가능
  * 악성 스크립트가 삽입되면 토큰 등 민감 정보 탈취 가능
  * ❗ 인증 토큰(JWT 등) 저장 시 보안 주의 필요

---

## 🔹 localStorage

* **영구 저장**

  * 브라우저를 종료해도 데이터 유지
* 동일 출처(Origin) 내에서 공유
* 자동 만료 없음 (직접 삭제 필요)

```js
localStorage.setItem("key", "value");
const value = localStorage.getItem("key");
localStorage.removeItem("key");
localStorage.clear();
```

### 📌 사용 예

* 다크모드 설정
* 자동 로그인 여부
* 사용자 UI 설정 값

---

## 🔹 sessionStorage

* **세션 단위 저장**

  * 브라우저 탭을 닫으면 데이터 삭제
* 탭별로 독립적인 저장 공간
* 동일 출처 내에서도 **탭 간 공유되지 않음**

```js
sessionStorage.setItem("key", "value");
const value = sessionStorage.getItem("key");
sessionStorage.removeItem("key");
sessionStorage.clear();
```

### 📌 사용 예

* 일회성 폼 데이터
* 임시 인증 상태
* 페이지 이동 간 상태 유지

---

## 🔹 localStorage vs sessionStorage 비교

| 구분     | localStorage | sessionStorage |
| ------ | ------------ | -------------- |
| 저장 기간  | 영구           | 탭 종료 시 삭제      |
| 탭 간 공유 | O            | X              |
| 용량     | 약 5MB        | 약 5MB          |
| API 방식 | 동기           | 동기             |
| 보안     | XSS 취약       | XSS 취약         |

---

## 🔐 보안 권장 사항

* 민감한 인증 토큰은 **HttpOnly Cookie** 사용 권장
* 입력값 검증 및 출력 시 이스케이프 처리
* CSP(Content Security Policy) 설정
* 가능하면 중요한 데이터는 서버 세션에 저장

---
